#!/bin/bash
# Activate the Python virtual environment in this project directory.

# NOTE: This script assumes execution as:
#     source ./activate

# Configure temporary directory
[[ ! -e "$TMPDIR" ]] && mkdir -p "$TMPDIR"

# Configure Pip
export PIP_DOWNLOAD_CACHE=$TMPDIR/pip
[[ ! -e "$PIP_DOWNLOAD_CACHE" ]] && mkdir -p "$PIP_DOWNLOAD_CACHE"
export PIP_REQUIRE_VIRTUALENV=true
export PIP_RESPECT_VIRTUALENV=true

# If the virtual environment does not already exist, create one
[[ ! -f "./bin/activate" ]] && virtualenv --no-site-packages .

# Activate the (possibly new) Python virtual environment
source ./bin/activate
export PYTHONHOME=${VIRTUAL_ENV}

